# 🛒 Notion Amazon Cart Sync - Chrome 拡張機能

Notion データベースのステータスで Amazon カートを自動管理する Chrome 拡張機能です。

## ✨ 機能

- 📝 **Amazon の商品を Notion に保存** - ワンクリックで商品情報を Notion データベースに追加
- 🔄 **自動同期** - Notion のステータス変更を検知して Amazon カートに自動追加
- 📊 **統計情報** - カート追加待ちや本日追加した商品数を表示
- ⚡ **リアルタイム処理** - 通常使用しているブラウザで動作

## 📦 インストール方法

### 1. 拡張機能のインストール

1. Chrome で `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」を ON にする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `chrome-extension`フォルダを選択

### 2. Notion 側の準備

#### 2.1 Notion API キーの取得

1. [Notion Developers](https://www.notion.so/my-integrations)にアクセス
2. 「New integration」をクリック
3. 以下の設定で作成：
   - Name: `Amazon Cart Sync`
   - Associated workspace: 使用するワークスペース
   - Capabilities:
     - ✅ Read content
     - ✅ Update content
     - ✅ Insert content
4. 「Submit」をクリック
5. 表示された「Internal Integration Token」をコピー

#### 2.2 Notion データベースの作成

以下のプロパティを持つデータベースを作成：

| プロパティ名 | タイプ | 説明                    |
| ------------ | ------ | ----------------------- |
| 商品名       | Title  | 商品の名前              |
| URL          | URL    | Amazon 商品ページの URL |
| ASIN         | Text   | Amazon 商品 ID          |
| ステータス   | Select | 処理状態                |
| 数量         | Number | 購入数量                |
| 追加日時     | Date   | カート追加日時          |
| 価格         | Number | 商品価格                |

**ステータスの選択肢：**

- 欲しい（デフォルト）
- カート追加待ち
- カート追加済み
- 購入済み
- キャンセル
- エラー

#### 2.3 インテグレーションの追加

1. 作成したデータベースを開く
2. 右上の「...」メニューから「接続」を選択
3. 先ほど作成したインテグレーションを検索して追加

### 3. 拡張機能の設定

1. 拡張機能アイコンをクリック
2. 「⚙️ 設定を開く」をクリック
3. 以下を入力：
   - **Notion API キー**: コピーしたトークン
   - **Notion データベース ID**: データベース URL の 32 文字の英数字
   - **自動同期**: ON/OFF
   - **同期間隔**: 5 分（推奨）
4. 「接続テスト」で確認
5. 「保存」をクリック

## 🚀 使い方

### 商品を Notion に保存

1. Amazon 商品ページを開く
2. 以下のいずれかの方法で保存：
   - ページ内の「📝 Notion に保存」ボタンをクリック
   - 拡張機能ポップアップから「現在の商品を Notion に保存」をクリック

### カート自動追加

1. Notion データベースを開く
2. 商品のステータスを「カート追加待ち」に変更
3. 自動同期により 5 分以内にカートに追加
4. 成功するとステータスが「カート追加済み」に自動変更

### 手動同期

拡張機能ポップアップから「今すぐ同期」をクリック

## 🔧 トラブルシューティング

### カート追加が動作しない

- Amazon にログインしているか確認
- 商品が在庫切れでないか確認
- ASIN/URL が正しく設定されているか確認

### Notion 接続エラー

- API キーが正しいか確認
- データベース ID が正しいか確認
- インテグレーションがデータベースに追加されているか確認

## ⚠️ 注意事項

- この拡張機能は個人利用を想定しています
- Amazon の利用規約に従ってご使用ください
- 過度な自動化は避けてください

## 📝 ライセンス

MIT License

## 🤝 貢献

Issues and Pull Requests are welcome!
